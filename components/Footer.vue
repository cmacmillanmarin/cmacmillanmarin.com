<!--
    components/Footer.vue
-->

<template>
    <footer class="s-footer">
        <p ref="msg" class="msg" v-text="emoji" />
    </footer>
</template>

<script>

    const emojis = ["👻","🤪","🙃","😈","👽","👾","😼","🤗","😏","🤙🏾","🤘🏾","🖕🏾","🖖🏾","🧠","🕶","🐶","🐒","💥","🔥","🍆","🥚","🍟","🏀","🥌","🎧","🎤","🎯","🏎","🚀","💸","🎈","🎉","🖤","💯","🔞","🔝"];

    import { mapState } from "vuex";

    import { TweenMax } from "gsap";

    import LifecycleHooks from "~/mixins/LifecycleHooks";

    export default {
        name: "Footer",
        mixins: [ LifecycleHooks ],
        computed: {
            ...mapState({
                introPosition: state => state.events.introPosition
            })
        },
        data() {
            return {
                emoji: "",
                emojis
            }
        },
        methods: {
            setInitValue() {
                const index = parseInt(Math.random() * this.emojis.length - 1);
                this.emoji = this.emoji === "" ? this.emojis[index] : this.emoji;
                console.log(this.emoji);
            },
            init() {
                this.setPosition();
            },
            setListeners() {
                this.onResize = _.throttle(this.setPosition, 10);
                window.addEventListener("resize", this.onResize);
            },
            setPosition() {
                const paddingTop = this.introPosition.params.padding
                TweenMax.set(this.$el, { paddingTop });
            },
            destroyListeners() {
                window.removeEventListener("resize", this.onResize);
            }
        }
    }

</script>

<style lang="scss" scoped>
    footer {
        p {
            line-height: normal;
            font-size: 8em;
            text-align: center;
        }
    }
</style>
